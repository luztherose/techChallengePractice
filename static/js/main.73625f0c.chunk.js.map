{"version":3,"sources":["components/Context/authContext.js","components/LogIn.js","components/SignUp.js","components/LogOut.js","components/Users.js","components/App.js","index.js"],"names":["AuthContext","React","createContext","AuthProvider","Provider","getAuthToken","Consumer","localStorage","getItem","setAuthToken","token","setItem","logout","removeItem","isUserLogged","Longin","state","username","password","handleChange","event","user","credentials","target","name","value","setState","handleSubmit","preventDefault","axios","post","then","res","data","accessToken","props","history","push","catch","error","alert","response","message","console","log","this","className","method","action","type","placeholder","onChange","onClick","to","Component","SignUp","LogOut","handleLogOut","Users","handleConfirmDelete","id","window","confirm","handleDelete","config","headers","delete","newUsers","users","filter","_id","get","fetchUsers","class","map","item","App","exact","path","component","LogIn","Logout","userLogged","getToken","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.73625f0c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst AuthContext = React.createContext();\n\nexport const AuthProvider = AuthContext.Provider;\n\nexport const AuthConsumer = AuthContext.Consumer;\n\nexport const getAuthToken = () => localStorage.getItem('token');\n\nexport const setAuthToken = (token) => localStorage.setItem('token', token);\n\nexport const logout = () => localStorage.removeItem('token');\n\nexport const isUserLogged = () => getAuthToken() !== null;\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { isUserLogged, setAuthToken, getAuthToken, logout } from \"./Context/authContext\";\n\nclass Longin extends Component {\n    state = {\n        username: '',\n        password: ''\n    }\n\n    handleChange = (event) => {\n        const user = this.state;\n        const credentials = event.target.name;\n        if (credentials === \"userEmail\") {\n            user.username = event.target.value;\n        } else if (credentials === \"password\") {\n            user.password = event.target.value;\n        }\n\n        this.setState(user);\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        axios.post(`http://51.38.51.187:3333/api/v1/auth/login`, this.state).then(res => {\n            setAuthToken(res.data.accessToken);\n            this.props.history.push(\"/users\");\n        }).catch(error => {\n            alert(error.response.data.message);\n            console.log(error);\n        })\n    }\n\n    render() {\n        // return (\n        //     <AuthConsumer>\n        //         {\n        //             auth => {\n        // console.log(logout())\n        // console.log(typeof(getAuthToken()) )\n        // console.log(getAuthToken() !== null)\n        // debugger\n        if (isUserLogged()) {\n            this.props.history.push(\"/users\");\n        }\n        // }\n        // }\n        return (\n            <div className=\"formContainer\">\n                <h1>Sign In</h1>\n                <form method=\"post\" action=\"/login\">\n                    <label>Email Address </label>\n                    <input type=\"email\" name=\"userEmail\" placeholder=\"johnsmith@gmail.com\" onChange={this.handleChange}></input>\n                    <label>Password </label>\n                    <input type=\"password\" name=\"password\" onChange={this.handleChange}></input>\n                    <input type=\"submit\" value=\"Sign In!\" onClick={this.handleSubmit}></input>\n                </form>\n                <div>\n                    <p>Please Sign Up!</p>\n                    <ul>\n                        <li><Link to=\"/signup\">Sign up</Link></li>\n                    </ul>\n                </div>\n            </div>\n        );\n        {/* </AuthConsumer>\n        ) */}\n    }\n}\nexport default Longin; ","import React, {Component} from \"react\";\nimport axios from 'axios';\n\n\nclass SignUp extends Component {\n    state = {\n        username: '',\n        password: ''\n    }\n\n    handleChange = event => {\n\n        const user = this.state\n        if(event.target.name === \"username\"){\n            user.username = event.target.value\n        } else if(event.target.name === \"password\"){\n            user.password = event.target.value\n        }\n        this.setState(user);\n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        const user = this.state;\n        axios.post(`http://51.38.51.187:3333/api/v1/auth/register`, user )\n        .then(res => {\n        // handle success\n        alert(\"Sign up successful!\");\n        this.props.history.push(\"/\")  \n        }).catch(function (error) {\n            alert(error.response.data.message);\n            console.error(error);\n        });\n    }\n\n    render() {\n        return(\n            <div className=\"formContainer\">\n                <h1>Sign Up</h1>\n                <form method=\"post\" action=\"/register\">\n                    <div>\n                        <label>Email </label>\n                        <input type=\"email\" name=\"username\" onChange={this.handleChange}></input>\n                        <label>Password </label>\n                        <input type=\"password\" name=\"password\" onChange={this.handleChange}></input>\n                    </div>\n                    <div>\n                        <input type=\"submit\" value=\"Register\" onClick={this.handleSubmit} ></input>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\nexport default SignUp ; ","import React, {Component} from \"react\";\nimport { logout } from \"./Context/authContext\";\n\n\nclass LogOut extends Component {\n    \n    handleLogOut = () => {\n        logout();\n        this.props.history.push(\"/\");\n        \n    }\n\n    render() {\n        return(\n            <div>\n                <h1>Log Out Page</h1>\n                <button onClick={this.handleLogOut}>Sing out</button>\n            </div>\n        );\n    }\n}\n\nexport default LogOut;\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Logout from \"./LogOut\";\nimport { isUserLogged, getAuthToken } from \"./Context/authContext\";\n\n// This component will be available only for the users that are loged in\n// This should include a list of all users\nclass Users extends Component {\n\n    state = {\n        \"users\": []\n    }\n\n    async fetchUsers() {\n        const token = getAuthToken();\n        const config = {\n            headers: {\n                \"Authorization\": `Bearer ${token}`\n            }\n        }\n        axios.get('http://51.38.51.187:3333/api/v1/users',\n            config\n        ).then(res => {\n            this.setState({ \"users\": res.data })\n        }).catch(error => {\n            console.log(error)\n        });\n    }\n    componentDidMount() {\n        if (!isUserLogged()) {\n            this.props.history.push(\"/\");\n        } else {\n            this.fetchUsers();\n        }\n    }\n\n    handleConfirmDelete = (id) => {\n        if (window.confirm(\"Are you should you want to delete this entry?\")) {\n            this.handleDelete(id)\n        }\n    }\n\n    handleDelete = (id) => {\n        const token = getAuthToken();\n        const config = {\n            headers: {\n                \"Authorization\": `Bearer ${token}`\n            }\n        }\n        axios.delete(`http://51.38.51.187:3333/api/v1/users/${id}`,\n            config\n        ).then(res => {\n            const newUsers = this.state.users.filter((user) => user._id != id)\n            this.setState({ \"users\": newUsers });\n            alert(\"This entry has been deleted\");\n            console.log(res);\n        }).catch(error => {\n            console.log(error)\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"linkToLogout\">\n                    <ul>\n                        <li><Link to=\"/logout\">Log out</Link></li>\n                    </ul>\n                </div>\n                <div class=\"container\">\n                    <div class=\"row\">\n                        <h1 className=\"centerElements\">List of Users</h1>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-sm alignLeft \">\n                            <h2>Ids</h2>\n                        </div>\n                        <div class=\"col-sm alignLeft\">\n                            <h2 className=\"marginLeft\">Emails</h2>\n                        </div>\n                    </div>\n                </div>\n                {this.state.users.map(item => {\n                    return (\n                        <div className=\"row\" key={item._id}>\n                            <div class=\"col-sm\">\n                                <p>{item._id}</p>\n                            </div>\n                            <div class=\"col-sm\">\n                                <p>{item.username}</p>\n                            </div>\n                            <div class=\"col-sm\">\n                                <button onClick={() => this.handleConfirmDelete(item._id)\n                                }>X</button>\n                            </div>\n                        </div>\n                    )\n                })\n                }\n            </div>\n        );\n    }\n}\n\nexport default Users;","import React, { Component } from \"react\";\nimport {\n  Route,\n  Switch\n} from 'react-router-dom';\nimport '../styles/App.scss';\nimport LogIn from \"./LogIn\";\nimport SignUp from \"./SignUp\";\nimport Users from \"./Users\";\nimport Logout from \"./LogOut\"\n\n\nclass App extends Component {\n  render() {\n    return (\n      <main className=\"container-fluid\">\n        <Switch>\n          <Route exact path=\"/\" component={LogIn} />\n          <Route path=\"/signup\" component={SignUp} />\n          <Route path=\"/users\" component={Users} />\n          <Route path=\"/logout\" component={Logout} />\n        </Switch>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { AuthProvider, getAuthToken, isUserLogged } from \"./components/Context/authContext\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nconst userLogged = {\n    getToken: () => getAuthToken(),\n    isUserLogged: () => isUserLogged()\n}\n\nReactDOM.render(\n    <AuthProvider value={ userLogged }>\n        <BrowserRouter basename=\"/techChallengePractice\">\n            <App />\n        </BrowserRouter>\n    </AuthProvider>\n    , document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}