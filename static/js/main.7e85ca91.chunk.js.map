{"version":3,"sources":["components/LogIn.js","components/SignUp.js","components/Users.js","components/App.js","index.js"],"names":["Longin","state","username","password","handleChange","event","user","credentials","target","name","value","setState","handleSubmit","preventDefault","axios","post","then","res","localStorage","setItem","data","accessToken","props","history","push","catch","error","alert","response","message","console","log","getItem","this","className","method","action","type","placeholder","onChange","onClick","to","Component","SignUp","Users","token","config","headers","get","fetchUsers","users","map","item","_id","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7e85ca91.chunk.js","sourcesContent":["import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport {Link} from \"react-router-dom\";\n\nclass Longin extends Component {\n    state = {\n        username: '',\n        password: '' \n    }\n\n    handleChange = (event) => {\n        const user = this.state;\n        const credentials = event.target.name;\n        if(credentials === \"userEmail\") {\n            user.username = event.target.value;\n        }else if(credentials === \"password\") {\n            user.password = event.target.value;\n        }\n\n        this.setState(user);\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        axios.post(`http://51.38.51.187:3333/api/v1/auth/login`, this.state).then(res => {\n            localStorage.setItem('token', res.data.accessToken);\n            this.props.history.push(\"/users\");\n        }).catch(error => {\n            alert(error.response.data.message);\n            console.log(error);\n        })\n    }\n\n    render() {\n        if(localStorage.getItem('token') !== null) {\n            this.props.history.push(\"/users\");\n        }\n\n        return (\n            <div className=\"formContainer\">\n                <h1>Sign In</h1>\n                <form method=\"post\" action=\"/login\">\n                    <label>Email Address </label>\n                    <input type=\"email\"name=\"userEmail\" placeholder=\"johnsmith@gmail.com\" onChange={this.handleChange}></input>\n                    <label>Password </label>\n                    <input type=\"password\" name=\"password\" onChange={this.handleChange}></input>\n                    <input type=\"submit\" value=\"Sign In!\" onClick={this.handleSubmit}></input>\n                </form>\n                <div>\n                    <p>Please Sign Up!</p>\n                    <ul>\n                        <li><Link to=\"/signup\">Sign up</Link></li>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n}\nexport default Longin; ","import React, {Component} from \"react\";\nimport axios from 'axios';\n\n\nclass SignUp extends Component {\n    state = {\n        username: '',\n        password: ''\n    }\n\n    handleChange = event => {\n\n        const user = this.state\n        if(event.target.name === \"username\"){\n            user.username = event.target.value\n        } else if(event.target.name === \"password\"){\n            user.password = event.target.value\n        }\n        this.setState(user);\n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        const user = this.state;\n        axios.post(`http://51.38.51.187:3333/api/v1/auth/register`, user )\n        .then(res => {\n        // handle success\n        alert(\"Sign up successful!\");\n        this.props.history.push(\"/\")  \n        }).catch(function (error) {\n            alert(error.response.data.message);\n            console.error(error);\n        });\n    }\n\n    render() {\n        return(\n            <div className=\"formContainer\">\n                <h1>Sign Up</h1>\n                <form method=\"post\" action=\"/register\">\n                    <div>\n                        <label>Email </label>\n                        <input type=\"email\" name=\"username\" onChange={this.handleChange}></input>\n                        <label>Password </label>\n                        <input type=\"password\" name=\"password\" onChange={this.handleChange}></input>\n                    </div>\n                    <div>\n                        <input type=\"submit\" value=\"Register\" onClick={this.handleSubmit} ></input>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\nexport default SignUp ; ","import axios from \"axios\";\nimport React, { Component } from \"react\";\n// This component will be available only for the users that are loged in\n// This should include a list of all users\nclass Users extends Component {\n\n    state = {\n        \"users\": [ ]\n    }\n    \n    async fetchUsers()  {\n        const token = localStorage.getItem(\"token\");\n        const config = {\n            headers: {\n                \"Authorization\": `Bearer ${token}` \n            }\n        }\n        axios.get('http://51.38.51.187:3333/api/v1/users',\n        config\n        ).then(res => {\n            this.setState({\"users\": res.data })\n        }).catch(error => {\n            console.log(error)\n        });\n    }\n    componentDidMount(){\n        if (localStorage.getItem('token') === null) {\n            this.props.history.push(\"/\");\n        } else {\n            this.fetchUsers();\n        }\n    }\n\n    render() {\n        \n        return (\n            <div>\n                <h1> Users Page</h1>\n                <p>List of Users</p>\n                <div className=\"userContainer\">\n                    <div>\n                        <p>Ids</p>\n                    </div>\n                    <div>\n                        <p>users</p>\n                    </div>\n                </div>\n                { this.state.users.map(item => {\n                    return (\n                        <div className=\"userContainer\" key={item._id}>\n                            <div>\n                                <p>{item._id}</p>\n                            </div>\n                            <div>\n                                <p>{item.username}</p>\n                            </div>\n                        </div>\n                    )\n                })\n                }\n            </div>\n        );\n    }\n}\n\nexport default Users;","import React, { Component } from \"react\";\nimport {\n  Route,\n  Switch\n} from 'react-router-dom';\nimport '../styles/App.scss';\nimport LogIn from \"./LogIn\";\nimport SignUp from \"./SignUp\";\nimport Users from \"./Users\"\n\n\nclass App extends Component {\n  render() {\n    return (\n      <main className=\"app wrapper\">\n        <Switch>\n          <Route exact path=\"/\" component={LogIn} />\n          <Route path=\"/signup\" component={SignUp} />\n          <Route path=\"/users\" component={Users} />\n        </Switch>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n    \"<h1>hellow world</h1>\"\n    , document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}