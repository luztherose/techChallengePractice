{"version":3,"sources":["components/Context/authContext.js","components/LogIn.js","components/SignUp.js","components/Users.js","components/App.js","index.js"],"names":["AuthContext","React","createContext","AuthProvider","Provider","AuthConsumer","Consumer","getAuthToken","localStorage","getItem","setAuthToken","token","setItem","isUserLogged","Longin","state","username","password","handleChange","event","user","credentials","target","name","value","setState","handleSubmit","preventDefault","axios","post","then","res","data","accessToken","props","history","push","catch","error","alert","response","message","console","log","auth","className","method","action","type","placeholder","onChange","this","onClick","to","Component","SignUp","Users","config","headers","get","fetchUsers","users","map","item","_id","App","exact","path","component","LogIn","userLogged","getToken","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.c140d9f6.chunk.js","sourcesContent":["import React from \"react\";\n\nconst AuthContext = React.createContext();\n\nexport const AuthProvider = AuthContext.Provider;\n\nexport const AuthConsumer = AuthContext.Consumer;\n\nexport const getAuthToken = () => localStorage.getItem('token');\n\nexport const setAuthToken = (token) => localStorage.setItem('token', token);\n\nexport const isUserLogged = () => getAuthToken() !== null\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AuthConsumer, setAuthToken } from \"./Context/authContext\"\n\nclass Longin extends Component {\n    state = {\n        username: '',\n        password: ''\n    }\n\n    handleChange = (event) => {\n        const user = this.state;\n        const credentials = event.target.name;\n        if (credentials === \"userEmail\") {\n            user.username = event.target.value;\n        } else if (credentials === \"password\") {\n            user.password = event.target.value;\n        }\n\n        this.setState(user);\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        axios.post(`http://51.38.51.187:3333/api/v1/auth/login`, this.state).then(res => {\n            setAuthToken(res.data.accessToken);\n            this.props.history.push(\"/users\");\n        }).catch(error => {\n            alert(error.response.data.message);\n            console.log(error);\n        })\n    }\n\n    render() {\n        return (\n            <AuthConsumer>\n                {\n                    auth => {\n                        if (auth.isUserLogged()) {\n                            this.props.history.push(\"/users\");\n                        }\n                    }\n                }\n            return (\n                <div className=\"formContainer\">\n                    <h1>Sign In</h1>\n                    <form method=\"post\" action=\"/login\">\n                        <label>Email Address </label>\n                        <input type=\"email\" name=\"userEmail\" placeholder=\"johnsmith@gmail.com\" onChange={this.handleChange}></input>\n                        <label>Password </label>\n                        <input type=\"password\" name=\"password\" onChange={this.handleChange}></input>\n                        <input type=\"submit\" value=\"Sign In!\" onClick={this.handleSubmit}></input>\n                    </form>\n                    <div>\n                        <p>Please Sign Up!</p>\n                        <ul>\n                            <li><Link to=\"/signup\">Sign up</Link></li>\n                        </ul>\n                    </div>\n                </div>\n            );\n            </AuthConsumer>\n        )\n    }\n}\nexport default Longin; ","import React, {Component} from \"react\";\nimport axios from 'axios';\n\n\nclass SignUp extends Component {\n    state = {\n        username: '',\n        password: ''\n    }\n\n    handleChange = event => {\n\n        const user = this.state\n        if(event.target.name === \"username\"){\n            user.username = event.target.value\n        } else if(event.target.name === \"password\"){\n            user.password = event.target.value\n        }\n        this.setState(user);\n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        const user = this.state;\n        axios.post(`http://51.38.51.187:3333/api/v1/auth/register`, user )\n        .then(res => {\n        // handle success\n        alert(\"Sign up successful!\");\n        this.props.history.push(\"/\")  \n        }).catch(function (error) {\n            alert(error.response.data.message);\n            console.error(error);\n        });\n    }\n\n    render() {\n        return(\n            <div className=\"formContainer\">\n                <h1>Sign Up</h1>\n                <form method=\"post\" action=\"/register\">\n                    <div>\n                        <label>Email </label>\n                        <input type=\"email\" name=\"username\" onChange={this.handleChange}></input>\n                        <label>Password </label>\n                        <input type=\"password\" name=\"password\" onChange={this.handleChange}></input>\n                    </div>\n                    <div>\n                        <input type=\"submit\" value=\"Register\" onClick={this.handleSubmit} ></input>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\nexport default SignUp ; ","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { isUserLogged, getAuthToken } from \"./Context/authContext\";\n\n// This component will be available only for the users that are loged in\n// This should include a list of all users\nclass Users extends Component {\n\n    state = {\n        \"users\": [ ]\n    }\n    \n    async fetchUsers()  {\n        const token = getAuthToken();\n        const config = {\n            headers: {\n                \"Authorization\": `Bearer ${token}` \n            }\n        }\n        axios.get('http://51.38.51.187:3333/api/v1/users',\n        config\n        ).then(res => {\n            this.setState({\"users\": res.data })\n        }).catch(error => {\n            console.log(error)\n        });\n    }\n    componentDidMount(){\n        if (!isUserLogged()) {\n            this.props.history.push(\"/\");\n        } else {\n            this.fetchUsers();\n        }\n    }\n\n    render() {\n        \n        return (\n            <div>\n                <h1> Users Page</h1>\n                <p>List of Users</p>\n                <div className=\"userContainer\">\n                    <div>\n                        <p>Ids</p>\n                    </div>\n                    <div>\n                        <p>users</p>\n                    </div>\n                </div>\n                { this.state.users.map(item => {\n                    return (\n                        <div className=\"userContainer\" key={item._id}>\n                            <div>\n                                <p>{item._id}</p>\n                            </div>\n                            <div>\n                                <p>{item.username}</p>\n                            </div>\n                        </div>\n                    )\n                })\n                }\n            </div>\n        );\n    }\n}\n\nexport default Users;","import React, { Component } from \"react\";\nimport {\n  Route,\n  Switch\n} from 'react-router-dom';\nimport '../styles/App.scss';\nimport LogIn from \"./LogIn\";\nimport SignUp from \"./SignUp\";\nimport Users from \"./Users\";\n\n\nclass App extends Component {\n  render() {\n    return (\n      <main className=\"app wrapper\">\n        <Switch>\n          <Route exact path=\"/\" component={LogIn} />\n          <Route path=\"/signup\" component={SignUp} />\n          <Route path=\"/users\" component={Users} />\n        </Switch>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { AuthProvider, getAuthToken, isUserLogged } from \"./components/Context/authContext\";\n\n\nconst userLogged = {\n    getToken: () => getAuthToken(),\n    isUserLogged: () => isUserLogged()\n}\n\nReactDOM.render(\n    <AuthProvider value={ userLogged }>\n        <BrowserRouter basename=\"/techChallengePractice\">\n            <App />\n        </BrowserRouter>\n    </AuthProvider>\n    , document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}